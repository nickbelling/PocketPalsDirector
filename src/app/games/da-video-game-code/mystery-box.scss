.mystery-box {
    container-type: size;

    /* Derived from shared seed (inherited from parent or default) */
    --shineDur: calc(1.6s + 1.8s * var(--seed, 0.37));
    --glowDur: calc(4s + 3s * var(--seed, 0.37));
    --innerTilt: calc((var(--seed, 0.37) - 0.5) * 4deg);
    --sheenAngle: calc(96deg + 22deg * var(--seed, 0.37));
    --radius: 50px;

    width: 100%;
    height: 100%;
    border-radius: var(--radius);
    position: relative;
    isolation: isolate;
    overflow: hidden;

    /* Outer shell background */
    background: radial-gradient(
            120% 120% at 20% 10%,
            rgba(255, 255, 255, 0.25),
            transparent 45%
        ),
        radial-gradient(
            90% 90% at 90% 30%,
            rgba(120, 200, 255, 0.25),
            transparent 55%
        ),
        linear-gradient(135deg, #201b3a, #151326 45%, #0f0d1b);

    /* Simple border-like stroke */
    box-shadow: inset 0 0 0 0.4cqw rgba(255, 255, 255, 0.1);
}

/* Glassy rotating glow */
.mystery-box::before {
    content: '';
    position: absolute;
    inset: -50%;

    background: conic-gradient(
        from calc(180deg + 90deg * var(--seed, 0.37)),
        rgba(140, 90, 255, 0),
        rgba(140, 90, 255, 0.55),
        rgba(80, 220, 255, 0.55),
        rgba(255, 220, 120, 0.45),
        rgba(140, 90, 255, 0.55),
        rgba(140, 90, 255, 0)
    );

    opacity: 0.3;
    z-index: 3;
    animation: mb-glow var(--glowDur) linear infinite;
}

/* Animated sheen sweep */
.mystery-box::after {
    content: '';
    position: absolute;
    inset: -50%;
    background: linear-gradient(
        var(--sheenAngle),
        transparent 35%,
        rgba(255, 255, 255, 0.18) 45%,
        rgba(255, 255, 255, 0.06) 52%,
        transparent 60%
    );
    opacity: 0.4;
    pointer-events: none;
    animation: mb-shine var(--shineDur) ease-in-out infinite;
}

/* Inner panel + face */
.mystery-box-content {
    position: absolute;
    inset: calc(var(--radius) / 2);
    border-radius: var(--radius);
    display: grid;
    place-items: center;

    background: radial-gradient(
            130% 130% at 50% 25%,
            rgba(120, 220, 255, 0.18),
            transparent 55%
        ),
        radial-gradient(
            120% 120% at 30% 20%,
            rgba(255, 255, 255, 0.12),
            transparent 45%
        ),
        linear-gradient(180deg, rgba(255, 255, 255, 0.08), transparent);

    box-shadow:
        inset 0 0 0 0.35cqw rgba(255, 255, 255, 0.1),
        0 3.2% 9% rgba(0, 0, 0, 0.35);

    font-family:
        system-ui,
        -apple-system,
        sans-serif;
    font-weight: 800;
    color: #fff;
    text-shadow:
        0 0 0.8cqw rgba(0, 0, 0, 0.6),
        0 0 1.5cqw rgba(80, 220, 255, 0.7);
}

/* Slow rotating glow */
@keyframes mb-glow {
    0% {
        transform: rotate(0deg) scale(1);
    }
    50% {
        transform: rotate(180deg) scale(calc(1.01 + 0.02 * var(--seed, 0.37)));
    }
    100% {
        transform: rotate(360deg) scale(1);
    }
}

/* Sheen sweep */
@keyframes mb-shine {
    0% {
        transform: translateX(-50%) rotate(calc(6deg + var(--innerTilt)));
    }
    100% {
        transform: translateX(50%) rotate(calc(6deg + var(--innerTilt)));
    }
}
