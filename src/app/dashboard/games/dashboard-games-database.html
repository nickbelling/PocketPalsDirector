<h3>Videogame database</h3>

<button mat-flat-button (click)="addGame()">
    <mat-icon>add_circle</mat-icon>
    <span>Add game</span>
</button>

<div class="games g p-y">
    @for (game of games(); track game.id) {
        <mat-card
            class="game-card bg-purple"
            [matTooltip]="game.id | gameName: true"
            [matMenuTriggerFor]="gameMenu"
            [matMenuTriggerData]="{ $implicit: game }">
            <game-hero [gameId]="game.id" [useThumbnails]="true" />
        </mat-card>
    }

    <button
        mat-fab
        class="floating-fab"
        (click)="addGame()"
        matTooltip="Add game">
        <mat-icon>add</mat-icon>
    </button>
</div>

<mat-menu #gameMenu>
    <ng-template matMenuContent let-game>
        <button mat-menu-item (click)="editGame(game)">
            <mat-icon>edit</mat-icon>
            <span>Edit {{ game.name }}...</span>
        </button>
        <a
            mat-menu-item
            href="https://www.steamgriddb.com/game/{{ game.steamGridDbId }}"
            target="_blank">
            <mat-icon>open_in_new</mat-icon>
            <span>Open in SteamGridDB...</span>
        </a>
        <mat-divider />
        <button mat-menu-item (click)="deleteGame(game)">
            <mat-icon>delete</mat-icon>
            <span>Delete {{ game.name }}...</span>
        </button>
    </ng-template>
</mat-menu>
